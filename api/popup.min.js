/* Postcodify, LGPL v3, see https://github.com/kijin/postcodify */
(function($){if("undefined"==typeof $.fn.postcodifyPopUp){var d={version:"3.1.0"};$(function(){var i=navigator.userAgent.match(/MSIE [56]\./)?"http:":"";if(""!==i||window.location.protocol.match(/^https?/)||(i="http:"),"undefined"==typeof window.POSTCODIFY_NO_CSS){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=i+"//cdn.poesis.kr/post/popup.css?v="+d.version,document.body.appendChild(t)}if("undefined"==typeof $.fn.postcodify){var o=document.createElement("script");o.type="text/javascript",o.src=i+"//cdn.poesis.kr/post/search.min.js?v="+d.version,document.body.appendChild(o)}}),$.fn.postcodifyPopUp=function(i){return this.each(function(){var p,o,u,f;i="undefined"!=typeof i?i:{},f="undefined"!=typeof i.onSelect?i.onSelect:function(){},o=$(i.container||i.inputParent?i.container?i.container:i.inputParent:document.body);var e=$('<div class="postcodify_popup_background"></div>'),t=$('<div class="postcodify_popup_layer" data-version="'+d.version+'"></div>');navigator.userAgent.match(/MSIE 6\./)&&(e.addClass("ie6fix"),t.addClass("ie6fix"));var c=($('<div class="postcodify_controls"></div>').appendTo(t),$('<div class="postcodify_displays"></div>').appendTo(t));c.append('<div class="postcodify_results"></div>');var l=$('<div class="postcodify_placeholder"></div>').text("\uac80\uc0c9\ud560 \uc8fc\uc18c\ub97c \uc5ec\uae30\uc5d0 \uc785\ub825\ud574 \uc8fc\uc138\uc694"),y=$('<div class="postcodify_curve_slice"></div>'),r=$('<div class="postcodify_button_area"></div>'),_=$('<button class="close_button">&times;</button>').appendTo(r),v=$('<div class="postcodify_logo">P O W E R E D &nbsp; B Y &nbsp; <a href="http://postcodify.poesis.kr/">P O S T C O D I F Y</a></div>');v.appendTo(t);var n=$("<table></table>");n.append("<tr><th>\uad6c\ubd84</th><th>\uc0ac\uc6a9\ud560 \uac80\uc0c9\uc5b4</th><th>\uac80\uc0c9 \uc608</th></tr>"),n.append("<tr><td>\ub3c4\ub85c\uba85\uc8fc\uc18c</td><td>\ub3c4\ub85c\uba85 + \ubc88\ud638</td><td>\uc138\uc885\ub300\ub85c 110</td></tr>"),n.append("<tr><td>\uc9c0\ubc88\uc8fc\uc18c</td><td>\ub3d9\xb7\ub9ac + \ubc88\uc9c0</td><td>\ubd80\uc0b0 \uc5f0\uc0b0\ub3d9 1000</td></tr>"),n.append('<tr class="postcodify_building_search"><td>\uac74\ubb3c\uba85</td><td>\ube4c\ub529 \ub610\ub294 \uc544\ud30c\ud2b8\ub2e8\uc9c0\uba85</td><td>\uc218\uace1\ub3d9 \uc8fc\uacf53\ucc28</td></tr>'),n.append("<tr><td>\uc0ac\uc11c\ud568</td><td>\uc0ac\uc11c\ud568\uba85 + \ubc88\ud638</td><td>\uad11\ud654\ubb38\uc6b0\uccb4\uad6d\uc0ac\uc11c\ud568 123-4</td></tr>");var a=$("<ul></ul>");a.append("<li><span>\uc2dc\xb7\uad70\xb7\uad6c\xb7\uc74d\xb7\uba74 \ub4f1\uc740 \uc4f0\uc9c0 \uc54a\uc544\ub3c4 \ub418\uc9c0\ub9cc,</span> <span>\uc4f0\uc2e4 \uacbd\uc6b0 \ubc18\ub4dc\uc2dc \ub744\uc5b4\uc4f0\uae30\ub97c \ud574 \uc8fc\uc138\uc694.</span></li>"),a.append('<li><span>\ub3c4\ub85c\uba85\uc5d0 \ud3ec\ud568\ub41c "\xd7\xd7\ubc88\uae38" \ub4f1 \uc22b\uc790\ub3c4</span> <span>\uc78a\uc9c0 \ub9d0\uace0 \uc368 \uc8fc\uc138\uc694.</span></li>'),a.append("<li><span>\uac74\ubb3c\uba85\ubcf4\ub2e4\ub294 \ubc88\ud638\uac00 \ud3ec\ud568\ub41c \uc815\ud655\ud55c \uc8fc\uc18c\ub85c</span> <span>\uac80\uc0c9\ud558\ub294 \uac83\uc774 \ube60\ub974\uace0 \uc815\ud655\ud569\ub2c8\ub2e4.</span></li>");var s=$('<div class="postcodify_help"></div>');s.append("<p>\uc6b0\ud3b8\ubc88\ud638 \uac80\uc0c9 \uc694\ub839</p>"),s.append(n),s.append("<p>\uc815\ud655\ud55c \uac80\uc0c9\uc744 \uc704\ud55c \ud301</p>"),s.append(a),s.appendTo(c),i.requireExactQuery&&s.find("tr.postcodify_building_search").remove(),e.hide().appendTo(document.body),t.hide().appendTo(document.body),u=function(){t.data("initialized","Y"),t.find("div.postcodify_results").postcodify($.extend({controls:t.find("div.postcodify_controls"),insertPostcode6:o.find(".postcodify_postcode6"),insertPostcode5:o.find(".postcodify_postcode5"),insertAddress:o.find(".postcodify_address"),insertDetails:o.find(".postcodify_details"),insertExtraInfo:o.find(".postcodify_extra_info"),insertJibeonAddress:o.find(".postcodify_jibeon_address"),insertEnglishAddress:o.find(".postcodify_english_address"),insertEnglishJibeonAddress:o.find(".postcodify_english_jibeon_address"),insertBuildingId:o.find(".postcodify_address_id,.postcodify_building_id"),insertBuildingName:o.find(".postcodify_building_name"),insertBuildingNums:o.find(".postcodify_building_nums"),insertOtherAddresses:o.find(".postcodify_other_addresses"),mapLinkProvider:"daum",hideOldAddresses:!1,afterSelect:function(d){o.find(".postcodify_postcode6_1").val(d.data("code6").substr(0,3)),o.find(".postcodify_postcode6_2").val(d.data("code6").substr(4,3)),f(d),p()}},i)),l.prependTo(t.find("div.postcodify_search_controls")).on("click",function(){t.find("input.keyword").focus()}),t.find("input.keyword").on("focusin focusout keydown keyup keypress input",function(){""===$(this).val()?l.show():l.hide()}),y.appendTo(t.find("div.postcodify_controls")),r.appendTo(t.find("div.postcodify_controls")),t.find("button.search_button").detach().prependTo(r)},$(window).resize(function(){var d=$(window).width(),i=$(window).height();t.removeClass("fill_horizontally").removeClass("fill_vertically").removeClass("full_screen"),660>=d&&t.addClass("fill_horizontally").addClass("fill_vertically"),660>=i&&t.addClass("fill_vertically"),"ontouchstart"in window&&(t.hasClass("fill_horizontally")||t.hasClass("fill_vertically"))&&t.addClass("full_screen"),c.height(t.height()-73)}),$(this).click(function(){"Y"!=t.data("initialized")&&u(),e.show(),t.show().find("input.keyword").focus(),$(window).triggerHandler("resize")}),p=function(){e.hide(),t.hide()},_.click(function(){p()}),e.click(function(){p()}),$(window).keyup(function(d){27==d.keyCode&&t.is(":visible")&&p()})})}}})(jQuery);
